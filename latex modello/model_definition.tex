\documentclass[a4paper,10pt]{article}
\usepackage[official] {eurosym}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[italian]{babel}
\usepackage{setspace}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{bbold}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{multirow}
\usepackage{subfig}
\usepackage[hidelinks]{hyperref}
\usepackage{listings,xcolor}
\definecolor{light-gray}{gray}{0.95}
\lstset{
	tabsize=4,
	frame=trbl,
	backgroundcolor=\color{light-gray},
	numbers=left,
	numberstyle=\tiny,
	showspaces=false,
	showstringspaces=false
	showtabs=false,
	language        = python,
	basicstyle      = \ttfamily\footnotesize,
	stringstyle     = \color{gray},
	%identifierstyle = \color{blue},
	commentstyle    = \color{green!40!black},
	stringstyle=\color{red},
	emphstyle       =[1]\color{black},
	emph            =[2]{if,or,else,from,import,def,return,print,for},
	emphstyle       =[2]\color{blue}\bfseries}
\lstset{literate=%
	*{0}{{{\color{red!20!violet}0}}}1
	{1}{{{\color{red!20!violet}1}}}1
	{2}{{{\color{red!20!violet}2}}}1
	{3}{{{\color{red!20!violet}3}}}1
	{4}{{{\color{red!20!violet}4}}}1
	{5}{{{\color{red!20!violet}5}}}1
	{6}{{{\color{red!20!violet}6}}}1
	{7}{{{\color{red!20!violet}7}}}1
	{8}{{{\color{red!20!violet}8}}}1
	{9}{{{\color{red!20!violet}9}}}1
}
\theoremstyle{definition}
\newtheorem{definition}{Definizione}
\theoremstyle{plain}
\newtheorem{teorema}{Teorema}
\newtheorem{prop}{Proposizione}
\newtheorem{dimost}{Dimostrazione}
\newtheorem{coro}{Corollario}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norma}{\lVert}{\rVert}
\newcommand{\numberset}{\mathbb}
\newcommand{\N}{\numberset{N}}
\newcommand{\R}{\numberset{R}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\EE}{\mathbb{E}}

\begin{document}
	
\section{Optimization model definition}

\subsection{Data}

\begin{itemize}
	\item $G1, G2$ players' grades of the two rounds
	\item $auct$ maximum number of sold/bought players during the winter call
	\item $coins$ number of coins users start the auction with
	\item $Pr1, Pr2$ prices of players bought in the first and winter auction
	\item $Sc1, Sc2$ players' scores for each day for each round
	\item $Nk, Nd, Nm, Ns$ numbers of keepers, defenders, midfielders and strikers to line up, given by the formation
\end{itemize}
\subsection{Variables}

\begin{itemize}
	\item $X1, X2$ teams of the two rounds, binary
	\item $Y1, Y2$ lined up teams on each day of each round, binary
	\item $B, S$ bought and sold players during the winter call, binary
\end{itemize}
\subsection{Indices}

\begin{itemize}
	\item $T1, T2$ number of days in the first and second round, indices of $Y1, Y2, G1, G2, Sc1, Sc2$
	\item $P$ total number of players, indices of $X1, X2, Y1, Y2, B, S, G1, G2, Pr1, Pr2, Sc1, Sc2$
	\item $\{k_i\}, \{d_i\}, \{m_i\}, \{s_i\}$ sub indices of $X1, X2, Y1, Y2$ divided by players' roles, indices of $X1, X2, Y1, Y2$
\end{itemize}

\subsection{Model}

\begin{align}
	\text{max} \quad & \sum_{t}^{T1} \sum_{p}^{P} Y1_{pt} G1_{pt} +  \sum_{t}^{T2} \sum_{p}^{P} Y2_{pt} G2_{pt} \\
	\text{s.t.} \quad & \sum_{k_{i}} X1 = \sum_{k_{i}} X2 = 3 \quad \sum_{d_{i}} X1 = \sum_{d_{i}} X2 = 8\\
	& \sum_{m_{i}} X1 = \sum_{m_{i}} X2 = 8 \quad \sum_{s_{i}} X1 = \sum_{s_{i}} X2 = 6 \notag \\
	& \sum_{p} S = \sum_{p} B \leq auct	\\
	& \sum_{p} X1_p * Pr1_p \leq coins	\\
	&	X2 = X1 - S + B \\
	& B_p * Pr1_p \leq 1 \qquad \forall p \\
	& \sum_{p} \Big( Pr1_p * (X1_p - S_p) + B_p * Pr2_p \Big) \leq coins \\
	& Y1_{pt}  \leq X1_p, \quad  Y2_{pt}  \leq X2_p \qquad \forall t,p \\
	& \sum_{p} Y1_p * Sc1_{pt} \geq 78 \quad \forall t \in T1 \\
	& \sum_{p} Y2_p * Sc2_{pt} \geq 78 \quad \forall t \in T2 \notag \\
	& \sum_{k_{i}} Y1_{pt} = \sum_{k_{i}} Y2_{pt} = Nk \quad \forall t \in T1, T2 \\
	& \sum_{d_{i}} Y1_{pt} = \sum_{d_{i}} Y2_{pt} = Nd \quad \forall t \in T1, T2 \notag \\
	& \sum_{m_{i}} Y1_{pt} = \sum_{m_{i}} Y2_{pt} = Nm \quad \forall t \in T1, T2 \notag \\
	& \sum_{s_{i}} Y1_{pt} = \sum_{s_{i}} Y2_{pt} = Ns \quad \forall t \in T1, T2 \notag \\
	& X1, X2, B, S \in \{0,1\}^{P} \\
	&Y1 \in \{0,1\}^{P \times T1}, \quad  Y2 \in \{0,1\}^{P \times T2}
\end{align}

\subsubsection{Explanation}

Objective function $(1)$: we want to maximize the points obtained by lined up players.

Constraints $(2)$: as users, we must buy 3 keepers, 8 defenders, 8 midfielders and 6 strikers.

Constraint $(3)$: we must buy and sell the same number of players during the winter auction. The number of bought/sold players cannot exceed $auct$.

Constraint $(4)$: the sum of the prices of players bought at the first auction must not exceed $coins$.

Constraint $(5)$: the players can line up in the second round are the ones we bought at the first auction plus the ones we bought at the winter auction minus the ones we sold at the winter auction.

Constraint $(6)$: at the winter auction we can only buy players that were not bought at the first auction (this is not totally true but it should be the majority of the cases), so we can only buy players with price equal to 1 in $Pr1$.

	
	
	
	
\end{document}